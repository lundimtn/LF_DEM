<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Documentation for LF_DEM: Simulation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Documentation for LF_DEM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_simulation.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_simulation-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Simulation Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class launching the simulation by setting up the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class and performing predefined shear evolution.  
 <a href="class_simulation.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_simulation_8h_source.html">Simulation.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1dc92fad0b8a9e483499aad6c8fcc31c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a1dc92fad0b8a9e483499aad6c8fcc31c">setupSimulation</a> (std::string in_args, std::vector&lt; std::string &gt; &amp;input_files, bool binary_conf, double dimensionlessnumber, std::string input_scale, std::string simu_identifier)</td></tr>
<tr class="separator:a1dc92fad0b8a9e483499aad6c8fcc31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4287cb4a8ef6d7ac4f0b0e28a0f3605"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#aa4287cb4a8ef6d7ac4f0b0e28a0f3605">keepRunning</a> ()</td></tr>
<tr class="separator:aa4287cb4a8ef6d7ac4f0b0e28a0f3605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d05f2d748b0b6023d52b9142d82df53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a8d05f2d748b0b6023d52b9142d82df53">setupEvents</a> ()</td></tr>
<tr class="separator:a8d05f2d748b0b6023d52b9142d82df53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cd696648154ed3260e7ed6392d130f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a64cd696648154ed3260e7ed6392d130f">handleEvents</a> ()</td></tr>
<tr class="separator:a64cd696648154ed3260e7ed6392d130f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f9f99745ef8d72191c75149cf4374a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a87f9f99745ef8d72191c75149cf4374a">setDefaultParameters</a> (std::string input_scale)</td></tr>
<tr class="separator:a87f9f99745ef8d72191c75149cf4374a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c894ecd1fb6156d94f57fbc0768c861"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a7c894ecd1fb6156d94f57fbc0768c861">readParameterFile</a> (const std::string &amp;filename_parameters)</td></tr>
<tr class="separator:a7c894ecd1fb6156d94f57fbc0768c861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d85c60b5bcf3e3c70bc5cf1ba6c06b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#ae1d85c60b5bcf3e3c70bc5cf1ba6c06b">openOutputFiles</a> (std::string simu_name)</td></tr>
<tr class="separator:ae1d85c60b5bcf3e3c70bc5cf1ba6c06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7aaa6afc231614712e0794b71b2ef78"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#ac7aaa6afc231614712e0794b71b2ef78">prepareSimulationName</a> (bool binary_conf, const std::string &amp;filename_import_positions, const std::string &amp;filename_parameters, const std::string &amp;simu_identifier, double dimensionlessnumber, const std::string &amp;input_scale)</td></tr>
<tr class="separator:ac7aaa6afc231614712e0794b71b2ef78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a434707c081e7876872672d55728d56b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a434707c081e7876872672d55728d56b9">echoInputFiles</a> (std::string in_args, std::vector&lt; std::string &gt; &amp;input_files)</td></tr>
<tr class="separator:a434707c081e7876872672d55728d56b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c595bfa3912a6e7d129c949dd6cb85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a33c595bfa3912a6e7d129c949dd6cb85">autoSetParameters</a> (const std::string &amp;keyword, const std::string &amp;value)</td></tr>
<tr class="separator:a33c595bfa3912a6e7d129c949dd6cb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02db39dac79a8197839e02c753bf8340"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a02db39dac79a8197839e02c753bf8340">contactForceParameter</a> (std::string filename)</td></tr>
<tr class="separator:a02db39dac79a8197839e02c753bf8340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d2b9ca02cb1687348d36f8a2776760"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a94d2b9ca02cb1687348d36f8a2776760">contactForceParameterBrownian</a> (std::string filename)</td></tr>
<tr class="separator:a94d2b9ca02cb1687348d36f8a2776760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855c425cc9c3ae3fe6dccf37e7df0dcc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a855c425cc9c3ae3fe6dccf37e7df0dcc">tagStrainParameters</a> ()</td></tr>
<tr class="separator:a855c425cc9c3ae3fe6dccf37e7df0dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f313897c141c2f687fc33c6425289e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a7f313897c141c2f687fc33c6425289e8">resolveTimeOrStrainParameters</a> ()</td></tr>
<tr class="separator:a7f313897c141c2f687fc33c6425289e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc6867425fd9adff23e1417af6a88e9"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#afcc6867425fd9adff23e1417af6a88e9">get_np</a> (const std::string &amp;)</td></tr>
<tr class="separator:afcc6867425fd9adff23e1417af6a88e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1273f044d758648ea5c96c622314a10c"><td class="memItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a1273f044d758648ea5c96c622314a10c">get_np_Binary</a> (const std::string &amp;)</td></tr>
<tr class="separator:a1273f044d758648ea5c96c622314a10c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34751df5d05452cb51f094af424c8179"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a34751df5d05452cb51f094af424c8179">importConfiguration</a> (const std::string &amp;)</td></tr>
<tr class="separator:a34751df5d05452cb51f094af424c8179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055bc1e931b8cb872ef87ff47b8a7f82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a055bc1e931b8cb872ef87ff47b8a7f82">importConfigurationBinary</a> (const std::string &amp;)</td></tr>
<tr class="separator:a055bc1e931b8cb872ef87ff47b8a7f82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b500a9f9372d0a3d1fe1eaf8d90c9c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a3b500a9f9372d0a3d1fe1eaf8d90c9c4">readPositionsImposedVelocity</a> (std::fstream &amp;file_import)</td></tr>
<tr class="separator:a3b500a9f9372d0a3d1fe1eaf8d90c9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6855b603ee8983f2da157b8d8d66b6a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a6855b603ee8983f2da157b8d8d66b6a2">readPositions</a> (std::fstream &amp;file_import)</td></tr>
<tr class="separator:a6855b603ee8983f2da157b8d8d66b6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19623ec0109f77e40e0848e0513fca41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a19623ec0109f77e40e0848e0513fca41">exportForceAmplitudes</a> ()</td></tr>
<tr class="separator:a19623ec0109f77e40e0848e0513fca41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307ad24ddc8dc46ed6f21d4ea92ec5b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a307ad24ddc8dc46ed6f21d4ea92ec5b3">changeUnit</a> (<a class="el" href="struct_dimensional_value.html">DimensionalValue</a> &amp;x, std::string new_unit)</td></tr>
<tr class="separator:a307ad24ddc8dc46ed6f21d4ea92ec5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1172a4862aaca38e051974d9699549e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#ae1172a4862aaca38e051974d9699549e">resolveUnitSystem</a> (std::string long_unit)</td></tr>
<tr class="separator:ae1172a4862aaca38e051974d9699549e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12286fd02cb452adf672a5a656798856"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a12286fd02cb452adf672a5a656798856">setUnitScaleRateControlled</a> ()</td></tr>
<tr class="separator:a12286fd02cb452adf672a5a656798856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa27087b828d9974682f50d45f5c4a1a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#aa27087b828d9974682f50d45f5c4a1a4">setupNonDimensionalization</a> (double dimensionlessnumber, std::string input_scale)</td></tr>
<tr class="separator:aa27087b828d9974682f50d45f5c4a1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd7c8aeab6ae3d5ce70ab8c7dc8a6d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a7bd7c8aeab6ae3d5ce70ab8c7dc8a6d8">setupNonDimensionalizationRateControlled</a> (double dimensionlessnumber, std::string input_scale)</td></tr>
<tr class="separator:a7bd7c8aeab6ae3d5ce70ab8c7dc8a6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36566d36695d1b4e8420a41b1b417965"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a36566d36695d1b4e8420a41b1b417965">setupNonDimensionalizationStressControlled</a> (double dimensionlessnumber, std::string input_scale)</td></tr>
<tr class="separator:a36566d36695d1b4e8420a41b1b417965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b1b3a373aa202644584d5023ec50f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a03b1b3a373aa202644584d5023ec50f9">outputData</a> ()</td></tr>
<tr class="separator:a03b1b3a373aa202644584d5023ec50f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acedd732cb47dbf6a218e59f6aeea7742"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#acedd732cb47dbf6a218e59f6aeea7742">getRate</a> ()</td></tr>
<tr class="separator:acedd732cb47dbf6a218e59f6aeea7742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b47ef999353313373984efbff800cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#ae9b47ef999353313373984efbff800cc">handleEventsShearJamming</a> ()</td></tr>
<tr class="separator:ae9b47ef999353313373984efbff800cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed2f3eaf1517532ca34f8f4789dc5e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simulation.html#a6ed2f3eaf1517532ca34f8f4789dc5e8">handleEventsFragility</a> ()</td></tr>
<tr class="separator:a6ed2f3eaf1517532ca34f8f4789dc5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class launching the simulation by setting up the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class and performing predefined shear evolution. </p>
<dl class="section author"><dt>Author</dt><dd>Ryohei Seto </dd>
<dd>
Romain Mari </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a33c595bfa3912a6e7d129c949dd6cb85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::autoSetParameters </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>keyword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse an input parameter</p>

</div>
</div>
<a class="anchor" id="a307ad24ddc8dc46ed6f21d4ea92ec5b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::changeUnit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_dimensional_value.html">DimensionalValue</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>new_unit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert <a class="el" href="struct_dimensional_value.html">DimensionalValue</a> x from unit x.unit to unit new_unit.</p>

</div>
</div>
<a class="anchor" id="a02db39dac79a8197839e02c753bf8340"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::contactForceParameter </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@@ DEPRECATED? Load a file containing spring constants and time steps as functions of the volume fraction.</p>
<p>Input file must be formatted as: phi kn kt dt</p>

</div>
</div>
<a class="anchor" id="a94d2b9ca02cb1687348d36f8a2776760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::contactForceParameterBrownian </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@@ DEPRECATED? Load a file containing spring constants and time steps as functions of the volume fraction and Peclet number.</p>
<p>Input file must be formatted as: phi peclet kn kt dt</p>

</div>
</div>
<a class="anchor" id="a434707c081e7876872672d55728d56b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::echoInputFiles </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>in_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print the entire information needed to reproduce the simulation in Simulation::fout_input</p>

</div>
</div>
<a class="anchor" id="a19623ec0109f77e40e0848e0513fca41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::exportForceAmplitudes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy the input force alues in the ForceAmplitude struct of the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class</p>

</div>
</div>
<a class="anchor" id="afcc6867425fd9adff23e1417af6a88e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; int, int &gt; Simulation::get_np </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read np from a text file input configuration.</p>

</div>
</div>
<a class="anchor" id="a1273f044d758648ea5c96c622314a10c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; int, int &gt; Simulation::get_np_Binary </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read np from binary file input configuration.</p>

</div>
</div>
<a class="anchor" id="acedd732cb47dbf6a218e59f6aeea7742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Simulation::getRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The shear rate in the input units</p>

</div>
</div>
<a class="anchor" id="a64cd696648154ed3260e7ed6392d130f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::handleEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handle the list of events that appears in the previous time step </p><pre class="fragment">This function dispatches to specialized handlers according to the value of ParameterSet::event_handler .
</pre>
</div>
</div>
<a class="anchor" id="a6ed2f3eaf1517532ca34f8f4789dc5e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::handleEventsFragility </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_event.html">Event</a> handler to test for shear jamming </p><pre class="fragment">   When a negative_shear_rate event is thrown, p.disp_max is decreased.
</pre><p> If p.disp_max is below a minimal value, the shear direction is switched to y-shear.</p>
<p>p.cross_shear; </p>

</div>
</div>
<a class="anchor" id="ae9b47ef999353313373984efbff800cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::handleEventsShearJamming </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_event.html">Event</a> handler to test for shear jamming </p><pre class="fragment">   When a negative_shear_rate event is thrown, p.disp_max is decreased.
</pre><p> If p.disp_max is below a minimal value, the shear direction is switched to y-shear.</p>

</div>
</div>
<a class="anchor" id="a34751df5d05452cb51f094af424c8179"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::importConfiguration </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a text file input configuration.</p>

</div>
</div>
<a class="anchor" id="a055bc1e931b8cb872ef87ff47b8a7f82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::importConfigurationBinary </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a binary file input configuration.</p>
<p>Depending on the type of simulation, we store the data differently, defined by binary format version numbers: v1 : no version number field metadata : np, vf, lx, ly, lz, disp_x, disp_y particle data : [x, y, z, radius]*np contact data : nb_interactions, [p0, p1, dtx, dty, dtz, drx, dry, drz]*nb_interactions (with p0, p1 unsigned short)</p>
<p>v2 : no version number field metadata : same as v1 particle data : as v1 contact data : as v1, except that p0 and p1 are unsigned int</p>
<p>v3 : (fixed wall particle case) version nb: -1, 3 (-1 to distinguish from v1:np or v2:np) metadata : np, np_fixed, vf, lx, ly, lz, disp_x, disp_y particle data : [x, y, z, radius]*np, [vx, vy, vz]*np_fixed contact data : as v2</p>

</div>
</div>
<a class="anchor" id="aa4287cb4a8ef6d7ac4f0b0e28a0f3605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Simulation::keepRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if we reached the end of the simulation. </p><pre class="fragment">Returns true when ParameterSet::time_end is reached or if an event handler threw a kill signal.
</pre>
</div>
</div>
<a class="anchor" id="ae1d85c60b5bcf3e3c70bc5cf1ba6c06b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::openOutputFiles </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>simu_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the output files </p><pre class="fragment">   This function determines a simulation name from the parameters, opens the output files with the corresponding name and prints their header.
</pre>
</div>
</div>
<a class="anchor" id="a03b1b3a373aa202644584d5023ec50f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::outputData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Output data.</p>
<p>Stress data are converted in units of <img class="formulaInl" alt="$\eta_0\dot\gamma$" src="form_72.png"/>. Other data are output in the units used in the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class (these can be hydrodynamic, Brownian or repulsive force units).</p>
<p><b>NOTE:</b> this behavior should be changed and made more consistent in the future.</p>

</div>
</div>
<a class="anchor" id="ac7aaa6afc231614712e0794b71b2ef78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string Simulation::prepareSimulationName </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename_import_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>simu_identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimensionlessnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>input_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine simulation name.</p>

</div>
</div>
<a class="anchor" id="a7c894ecd1fb6156d94f57fbc0768c861"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::readParameterFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename_parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read and parse the parameter file</p>

</div>
</div>
<a class="anchor" id="a6855b603ee8983f2da157b8d8d66b6a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::readPositions </td>
          <td>(</td>
          <td class="paramtype">std::fstream &amp;&#160;</td>
          <td class="paramname"><em>file_import</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import a regular text file configuration.</p>
<p>File format: </p><h1>header</h1>
<p>x y z radius ...</p>

</div>
</div>
<a class="anchor" id="a3b500a9f9372d0a3d1fe1eaf8d90c9c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::readPositionsImposedVelocity </td>
          <td>(</td>
          <td class="paramtype">std::fstream &amp;&#160;</td>
          <td class="paramname"><em>file_import</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Import a text file configuration with imposed velocity particles.</p>
<p>File format: </p><h1>header</h1>
<p>x y z radius ... x y z radius vx vy vz ...</p>

</div>
</div>
<a class="anchor" id="a7f313897c141c2f687fc33c6425289e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::resolveTimeOrStrainParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interpret time units.</p>
<p>We have to treat times as a special case, because we sometimes want to use times expressed in units of inverse shear rate (i.e. time=strain). Because the shear rate might change in the simulation, it is not possible to perform a simple change of unit at any time in the simulation.</p>
<p>Ex 1: I am running a stress controlled simulation in repulsive time units. I set kn = 100r and time_end = 1kn; Then I know that I need to stop the simulation when sys.time()==1/100 (i.e. when the time expressed in repulsive units reaches 1/100)</p>
<p>Ex 2: I am running a stress controlled simulation in repulsive time units. I set kn = 100r but this time time_end = 1h; There is no way to know what 1h corresponds to in repulsive units, as the shear rate is evolving with time (stopping at sys.time()==???). The only way is to stop when sys.shear_strain()==1.</p>
<p>Because these 2 cases lead to 2 different tests, we have to inform the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class which test to perform. If time_end &gt; 0, <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> tests with System::time()==time_end. If time_end==-1, the test is done with System::shear_strain()==strain_end.</p>
<p>We have to do this not only for time_end, but also for every time defined in the parameters.</p>

</div>
</div>
<a class="anchor" id="ae1172a4862aaca38e051974d9699549e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::resolveUnitSystem </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>long_unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check force units consistency, expresses all input forces in the unit "unit_force". </p><pre class="fragment">   In input, forces are given with suffixes.
   This function checks that we can make sense of these suffixes, and if so,
   it converts all the forces in the unit given as a parameter.

   It does it iteratively, ie:
   1. I know that unit_force = 1*unit_force
   2. I know the value of any force f1 that has been given in unit_force in input as
 f1 = value*unit_force
   3. I can determine the value of any force f2 expressed as f2 = x*f1
</pre><ol type="1">
<li><p class="startli">I can then determine the value of any force f3 expressed as f3 = y*f2</p><ol type="a">
<li>etc</li>
</ol>
<p class="startli">If there is any force undetermined at the end of this algorithm, the force unit system is inconsistent/incomplete.</p>
<p class="startli">If the force unit system is consistent, this function determines the dimensionless numbers, i.e., the ratios F_A/F_B for any pair of force scales present in the system.</p>
<p class="startli"><b>Note:</b> a priori, we could determine force A from force B if A is defined in B units or if B is defined in A units: for example in the step 3 of the above algorithm we could determine f2 knowing f1 if f1 is defined as f1=x^{-1}f2. However this is <b>not</b> implemented and will fail with the current implementation.</p>
</li>
</ol>

</div>
</div>
<a class="anchor" id="a87f9f99745ef8d72191c75149cf4374a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setDefaultParameters </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_scale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set default values for <a class="el" href="struct_parameter_set.html">ParameterSet</a> parameters.</p>

</div>
</div>
<a class="anchor" id="a12286fd02cb452adf672a5a656798856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setUnitScaleRateControlled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine the best internal force scale to run the simulation (rate controlled case). </p><pre class="fragment">   If the system is non-Brownian, the hydrodynamic force unit is taken (\b note: this will change in the future). If the system is Brownian, the Brownian force unit is selected at low Peclet (i.e., Peclet numbers smaller that ParameterSet::Pe_switch) and the hydrodynamic force unit is selected at high Peclet.
</pre>
</div>
</div>
<a class="anchor" id="a8d05f2d748b0b6023d52b9142d82df53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setupEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the types of events to be watched by the <a class="el" href="class_system.html" title="Central class holding the suspension&#39;s configuration and the methods to evolve the dynamics...">System</a> class. </p><pre class="fragment">Links System::eventLookUp to a specialized function according to the value of ParameterSet::event_handler .
</pre>
</div>
</div>
<a class="anchor" id="aa27087b828d9974682f50d45f5c4a1a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setupNonDimensionalization </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimensionlessnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Non-dimensionalize the simulation. </p><pre class="fragment">   This function determines the most appropriate unit scales to use in the System class depending on the input parameters (Brownian/non-Brownian, shear rate, stress/rate controlled), and converts all the input values in these units.
</pre>
</div>
</div>
<a class="anchor" id="a7bd7c8aeab6ae3d5ce70ab8c7dc8a6d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setupNonDimensionalizationRateControlled </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimensionlessnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Choose units for the simulation and convert the forces to this unit (rate controlled case).</p>
<p>The strategy is the following:</p><ol type="1">
<li>Convert all the forces in hydro force unit, ie the value for force f1 is f1/F_H</li>
<li>Decide the unit force F_W for the simulation</li>
<li>Convert all the forces to this unit (by multiplying every force by F_H/F_W)</li>
</ol>

</div>
</div>
<a class="anchor" id="a36566d36695d1b4e8420a41b1b417965"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setupNonDimensionalizationStressControlled </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimensionlessnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Chooses units for the simulation and convert the forces to this unit (stress controlled case).</p>
<p>The strategy is the following:</p><ol type="1">
<li>Convert all the forces in the force unit "w" given by the input stress (LF_DEM -s a_numberw), by solving recursively, ie: a. w = 1w b. y = mw c. z = oy = omw d. etc...</li>
</ol>
<p>In the future, we may allow other unit scale than the one given by the input stress.</p>

</div>
</div>
<a class="anchor" id="a1dc92fad0b8a9e483499aad6c8fcc31c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::setupSimulation </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>in_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>input_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dimensionlessnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input_scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>simu_identifier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up the simulation. </p><pre class="fragment">   This function is intended to be generically used to set up the simulation. It processes the input parameters, non-dimensionalizes the system and starts up a System class with the relevant parameters.
</pre>
</div>
</div>
<a class="anchor" id="a855c425cc9c3ae3fe6dccf37e7df0dcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Simulation::tagStrainParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tag some time parameters like time_end given strain units (suffix h) </p><pre class="fragment">    In stress controlled simulations, hydro time units are ill-defined
    as the rate is changing in time. If times are given with these units, LF_DEM will
    throw a runtime_error if run under stress controlled conditions.
    However, there are some parameters for which giving strain units make sense,
    like time_end, etc. Here we tag those special parameters as having explicit
    "strain" units, which will later go through unaffected.

    Note that the System class must be aware that those parameters are strains
    to be compared with System::shear_strain() (as opposed to times to be compared
    with System::time()). The mechanism to declare those parameters to System is
    implemented in Simulation::resolveTimeOrStrainParameters().
</pre>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_simulation_8h_source.html">Simulation.h</a></li>
<li>Simulation.cpp</li>
<li>SimulationInit.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_simulation.html">Simulation</a></li>
    <li class="footer">Generated on Mon Sep 12 2016 11:56:01 for Documentation for LF_DEM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
